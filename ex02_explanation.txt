Exercise 02: More Buttons Technical Breakdown

**What is ex02 about?**
This exercise is about creating a basic calculator interface that works on all devices (responsive) using React Native. It's preparation for later calculations (done in ex03) but focuses purely on UI, debugging logs, and responsive behavior.

**Core Concepts Used:**

1. **Component Structure:**
   - `<View>`: Container elements similar to divs in web
   - `<TextInput>`: Used for displaying expression/result (readonly text areas)
   - `<TouchableOpacity>`: Interactive buttons with press effects

2. **State Management:**
   - `useState`: Tracks 3 pieces of data
     1. `expression`: Current input string (what user is typing)
     2. `result`: Final calculation result
     3. `screenData`: Stores device dimensions for responsiveness

3. **Responsive Design Techniques:**
   - `Dimensions` API: Detects screen size/orientation changes
   - Conditional styling: Checks `isLandscape = screenData.width > screenData.height?`
   - Separate `landscapeStyles` object for landscape-specific sizing

4. **Button Handling Logic:**
   - `buttonRowConfig` array defines button layout
   - Dynamic styling via `getButtonStyle()` - applies colors/sizes based on button type (number, operator, etc.)
   - Console logging every button press (`Button pressed :7`)

**Key Methods Deep Dive:**

### 1. handleClear (AC button)
**Purpose:** Reset calculator state  
**Flow:**
1. Sets expression to '0'
2. Sets result to '0'
3. Logs action to console
**Why synchronous?** Ensures both state updates happen atomically

### 2. handleDelete (C button)
**Logic Flow:**
1. Checks current expression length
2. If >1 character: removes last character with `slice(0, -1)`
3. If 1 character: resets to '0'
**Edge Cases:**
- Handles empty expression gracefully
- Prevents deletion from '0' state

### 3. handleEquals (= button)
**Current Implementation:**
1. Sets result = current expression
2. Placeholder for future calculation logic
**Why dummy logic?** Per exercise requirements (calculations are ex03)

### 4. handleButtonPress (Digit/Operator buttons)
**Core Logic Steps:**
1. If current expression is '0' AND pressed value ≠ '.': 
   - Replace '0' with pressed value
2. Else: append pressed value
3. Multiple guards:
   - Prevent duplicate '.' in same number
   - Don't allow operators first (except '-')
**Parameter Handling:** Accepts string/number values

### 5. getButtonStyle(value)
**Styling Pipeline:**
1. Starts with base button style
2. Conditionally adds:
   - Operator colors (orange)
   - Control buttons (gray)
   - Special zero button width
3. Merges landscape adjustments
**Output:** Array of style objects for TouchableOpacity

### 6. renderButton()
**Render Process:**
1. Gets combined styles from getButtonStyle
2. Adds landscape modifications
3. Creates TouchableOpacity with:
   - Dynamic styling
   - Correct handler binding
   - Accessible text label
**Key Optimization:** Memoization could be added for performance
**Technical Choices & Trade-Offs:**

- **Why `TextInput` instead of `Text` for displays?**  
  Allows future text selection/copying (even when read-only)

- **Separate landscape styles**  
  Makes portrait mode the default while handling landscape overrides cleanly

- **Static "=" button behavior**  
  Per exercise requirements; actual math logic comes in ex03 (now just shows expression)

**Debugging Features:**

- Every button press logs to console using `console.log()`
- Logs include exact button pressed (like debugger messages)
- Helps verify button presses during development

**Responsiveness Details:**

1. Portrait mode:
   - Large circular buttons (70x70)
   - Bigger text display
   - Standard calculator layout

2. Landscape mode:  
   Buttons become smaller rectangles (60x40)  
   Reduced font sizes  
   Compressed header/display areas  
   Why? To fit more content horizontally

**Error Handling Current Status:**

- **No math operations yet** so no crash risks  
- All button presses safely update expression string  
- Edge cases will be handled in exercise 03 (like division by zero)

**Subject Requirement Checklist:**
☑ AppBar with "Calculator" title  
☑ Two text displays showing "0"  
☑ All required buttons present (0-9, operators, AC/C)  
☑ Console log on every button press  
☑ Responsive phone/tablet layouts  
☑ Portrait/Landscape support  

**Why This Architecture Works:**
- Clear separation of data (state) and UI (components)  
- Styles divided between base + orientation-specific  
- Button logic centralized for easy maintenance  
- Ready for ex03 upgrade (calculator logic plugs into handlers)  

**Possible Improvements for Future:**
- Extract buttons into separate component  
- Add loading states  
- Visual feedback during operations  
- Animation during orientation changes
